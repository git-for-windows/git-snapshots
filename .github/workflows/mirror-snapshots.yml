name: Mirror snapshots

on: [push]

jobs:
  mirror:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: actions/create-github-app-token@v1
        id: token
        with:
          app-id: ${{ secrets.GH_APP_ID }}
          private-key: ${{ secrets.GH_APP_PRIVATE_KEY }}
      - name: mirror a snapshot
        env:
          GH_TOKEN: ${{ steps.token.outputs.token }}
        run: |
          set -x

          mirror_one() {
            for file in $files
            do
              curl -fLo "$file" https://wingit.blob.core.windows.net/files/"$file" || exit 1
            done &&

            echo "tag_name: '$tag_name'"
            gh release create -R ${{ github.repository }} --latest=false --target "$commit" --title "$date" "$tag_name" $files ||
            exit 1
          }

          cat >snapshots.html <<\EOF &&
          <h2 id="2024-02-08-17:55:31">Thu, 8 Feb 2024 18:55:31 +0100<br />(commit <a href="https://github.com/git-for-windows/git/commit/7e0789dd38db6b4f0e33bc3c0e68b262886b4407">7e0789dd38db6b4f0e33bc3c0e68b262886b4407</a>)</h2>

          <ul>
          <li>Git for Windows installer: <a href="Git-prerelease-2.43.0.windows.1-26-g7e0789dd38-20240208175609-64-bit.exe">64-bit</a> and <a href="Git-prerelease-2.43.0.windows.1-26-g7e0789dd38-20240208175609-32-bit.exe">32-bit</a>.</li>
          <li>Portable Git (self-extracting <tt>.7z</tt> archive): <a href="PortableGit-prerelease-2.43.0.windows.1-26-g7e0789dd38-20240208175609-64-bit.7z.exe">64-bit</a> and <a href="PortableGit-prerelease-2.43.0.windows.1-26-g7e0789dd38-20240208175609-32-bit.7z.exe">32-bit</a>.</li>
          <li>MinGit: <a href="MinGit-prerelease-2.43.0.windows.1-26-g7e0789dd38-20240208175609-64-bit.zip">64-bit</a> and <a href="MinGit-prerelease-2.43.0.windows.1-26-g7e0789dd38-20240208175609-32-bit.zip">32-bit</a>.</li></ul>

          <h2 id="2024-02-08-15:52:24">Thu, 8 Feb 2024 16:52:24 +0100<br />(commit <a href="https://github.com/git-for-windows/git/commit/c68910c668864f6696885ac5d21782a74201f417">c68910c668864f6696885ac5d21782a74201f417</a>)</h2>

          <ul>
          <li>Git for Windows installer: <a href="Git-prerelease-2.43.0.windows.1-19-gc68910c668-20240208155445-64-bit.exe">64-bit</a> and <a href="Git-prerelease-2.43.0.windows.1-19-gc68910c668-20240208155445-32-bit.exe">32-bit</a>.</li>
          <li>Portable Git (self-extracting <tt>.7z</tt> archive): <a href="PortableGit-prerelease-2.43.0.windows.1-19-gc68910c668-20240208155445-64-bit.7z.exe">64-bit</a> and <a href="PortableGit-prerelease-2.43.0.windows.1-19-gc68910c668-20240208155445-32-bit.7z.exe">32-bit</a>.</li>
          <li>MinGit: <a href="MinGit-prerelease-2.43.0.windows.1-19-gc68910c668-20240208155445-64-bit.zip">64-bit</a> and <a href="MinGit-prerelease-2.43.0.windows.1-19-gc68910c668-20240208155445-32-bit.zip">32-bit</a>.</li></ul>

          EOF

          sed <snapshots.html > snapshots.sh -n \
            -e 's/\/34b8e39205"/\/34b8e3920561d970622b0aba122c6a8f13ad84c3"/' \
            -e 's/\/046e6ffe7c"/\/046e6ffe7ce7623df3591d13a81996b9ebf6b9cc"/' \
            -e 's/\/97d91401ea"/\/97d91401ea276674f7b474a68752fe146f5adc0a"/' \
            -e 's/\/69e7a4cd2f"/\/69e7a4cd2fba6d75062445e5c8ad383ab29ddeb0"/' \
            -e 's/\/898cf2707e"/\/898cf2707e27c66d9e93fdf35febe56e2eeaf280"/' \
            -e 's/\/d4e5e1ea92"/\/d4e5e1ea920cc09e0382014318ca0bebc25a5f04"/' \
            -e 's/\/e3538d8eb3"/\/e3538d8eb3036fad3d396f07b0a514f77e242755"/' \
            -e 's/\/81a060a4d1"/\/81a060a4d1a3ed9b6ff7c0f0d79ed8ad04e4b983"/' \
            -e 's/\/2ac5f424d8"/\/2ac5f424d8f1ffd02cb4177674fc17e9baf3dab8"/' \
            -e 's/\/65f1570624"/\/65f15706241a2714deb2999b0b5e70d1dc3d3ce6"/' \
            -e 's/\/a930c5a836"/\/a930c5a836ca746e20a6ed0bf4fe633acd79ff74"/' \
            -e 's/\/59a40eeaf4"/\/59a40eeaf4b055b8478270d1929bfed41feb8278"/' \
            -e 's/\/c63a3d503f"/\/c63a3d503f9c2e13fdb87ebf10431845a7e30e51"/' \
            -e 's/\/1059065509"/\/10590655093c80575a475eb1523801f2398a6e91"/' \
            -e 's/\/3a29b232a0"/\/3a29b232a0fc9dd8fe9e969e79a080567929c8b9"/' \
            -e 's/\/233535ee04"/\/233535ee04936da8518616bf22a141d98f3c673d"/' \
            -e 's/\/231c608cd3"/\/231c608cd3fa0ddeadb27c928fe5eba4a51716a9"/' \
            -e 's/\/d3e1cc2cc1"/\/d3e1cc2cc1674a851b29b05001e06769bcf246da"/' \
            -e 's/\/873ebcb330"/\/873ebcb33047c744a70b7a20f47797cd2fe901e3"/' \
            -e 's/\/61224e4fc6"/\/61224e4fc644ed5196917d38e9f732c480b5d458"/' \
            -e 's/\/a7f813c3c0"/\/a7f813c3c0820501adbe1ab6cd6ba872b8f1ba46"/' \
            -e 's/\/dc2ae9a382"/\/dc2ae9a38264da2af13b0f95cc4fa5eee2ebf893"/' \
            -e 's/\/eb5d06f545"/\/eb5d06f54597df1bc7cdc448779f81577f6fc8b9"/' \
            -e 's/\/1a02835a1e"/\/1a02835a1ed7edf3e94441473255adf3c85b8f0d"/' \
            -e 's/\/89cb7de2a1"/\/89cb7de2a1f13138848fe2a104a04b570f3f1e08"/' \
            -e 's/\/6b27cae126"/\/6b27cae12621dee2d365a6daa54d3d367e62340e"/' \
            -e 's/\/da5a923050"/\/da5a923050c541b9761dfbe32e5748e1af0ae02d"/' \
            -e 's/\/fcbaede58b"/\/fcbaede58ba1f2474c822e8376d9292d3c66b517"/' \
            -e 's/\/2481c4cbe9"/\/2481c4cbe949856f270a3ee80c802f5dd89381aa"/' \
            -e 's/\/f6431ebcae"/\/f6431ebcae0cbb476d9f565bbcfcbb463c421dc7"/' \
            -e 's/\/ec3a6e598e"/\/ec3a6e598e346506401856d9526168746a097c2b"/' \
            -e 's/\/0fd7b8c613"/\/0fd7b8c613aaa24e6b80ed76e239b06da9ec006f"/' \
            -e 's/\/1dfd1896e4"/\/1dfd1896e415d84984547035e228c4fef1601f03"/' \
            -e 's/\/ed2b22adeb"/\/ed2b22adeb760d967c567c5664d33d5d641db10e"/' \
            -e 's/\/bbd16fadd3"/\/bbd16fadd3323899b8a7bc3462a59f0caf56a9c5"/' \
            -e 's/\/9f16cdd421"/\/9f16cdd4212d5093c5fa1e5dcfc15fb4d81652bd"/' \
            -e 's/\/9e107c96c0"/\/9e107c96c05fd042f04029e85309ad7094375c63"/' \
            -e 's/\/4d3be1d845"/\/4d3be1d845c107743543f6ce05b873f17c30fd3a"/' \
            -e 's/\/6b286585b1"/\/6b286585b1c9da0067e39a2333de7c83035fceb7"/' \
            -e 's/\/7b95654d1c"/\/7b95654d1c9722e4a9be496471e0186ff55e46f9"/' \
            -e 's/\/7c9fbc07db"/\/7c9fbc07db0e2939b36095df45864b8cda19b64f"/' \
            -e 's/\/33e4ee373f"/\/33e4ee373f0ae9aaf19015fdcecf2df3dfe701bf"/' \
            -e 's/\/81269053d9"/\/81269053d9c425a568afd03dd8beba6baf3dd8bb"/' \
            -e 's/\/9515583416"/\/95155834166f64fe9666f2c0a4909f076080893a"/' \
            -e 's/\/433dc93305"/\/433dc9330546b4cf6fc848e9d046bd7cd4c6d5ef"/' \
            -e 's/\/96889860af"/\/96889860afc72a11e82b36aecb0b291c44d892ca"/' \
            -e 's/\/9c0554eba6"/\/9c0554eba6041c63bf64bd9cc57fdb669e3a08b6"/' \
            -e 's/\/1120702086"/\/112070208619bc9632da17bd73ac6c6ded9bd7ec"/' \
            -e 's/\/00305f006b"/\/00305f006b598a80d61c5370b3f9dc684d4a3deb"/' \
            -e 's/\/f9be97db5e"/\/f9be97db5e6c9365bece17df0f30143fc9dededb"/' \
            -e 's/\/1c56983f99"/\/1c56983f99dcbc1d8569e8f682214409e097a0cf"/' \
            -e 's/\/c6ce1b9b6a"/\/c6ce1b9b6a38841660311a0151c4520a1a40e0a6"/' \
            -e 's/\/eca28c6e77"/\/eca28c6e77c9e67414a2d1a825980dcc639cc873"/' \
            -e 's/\/eca28c6e77"/\/eca28c6e77c9e67414a2d1a825980dcc639cc873"/' \
            -e 's/\/eca28c6e77"/\/eca28c6e77c9e67414a2d1a825980dcc639cc873"/' \
            -e 's/\/26dcaa1b6b"/\/26dcaa1b6b5fd862db3ec40983e33ff3432f1166"/' \
            -e 's/\/114a662e1c"/\/114a662e1ccb45ef1160d4e3428c1bd4501502a6"/' \
            -e 's/\/2d3b4935cc"/\/2d3b4935cc1b50d727847ca68486be4395416a58"/' \
            -e 's/\/8d05b911b1"/\/8d05b911b1d621685cf9ff8fa60b1b8351d237e4"/' \
            -e 's/\/ba4743c757"/\/ba4743c757738a1b01decf81cc16a7d7d3564cd9"/' \
            -e 's/\/b51737066b"/\/b51737066b9835818549108fffe7d534269bcda2"/' \
            -e 's/\/2c704875d0"/\/2c704875d0085aa794b18a70d9027acee3906bee"/' \
            -e 's/\/5af6eebdbf"/\/5af6eebdbf23741d5a3082e0518eeb81f71f15b0"/' \
            -e 's/\/a7b6b033dc"/\/a7b6b033dc2393e3c4d679d942a8312de353c469"/' \
            -e 's/\/25a7f44187"/\/25a7f44187bb9d208ec34401b5b25db4641127d6"/' \
            -e 's/\/d4f95fc6d2"/\/d4f95fc6d2b604c7f66a0420e722588f85a043bc"/' \
            -e 's/\/6cbf663b0e"/\/6cbf663b0e4f692e27de599fae76bc570a7f37d4"/' \
            -e 's/\/b85dc5cd7c"/\/b85dc5cd7c3c013a5e53fc1c9cffb507733efc09"/' \
            -e 's/\/79ff0c6229"/\/79ff0c6229bb01c5a6992b94c9d9010cbeb08b27"/' \
            -e 's/\/6c65e18eb1"/\/6c65e18eb1399e04956160f8621b95ef058b5309"/' \
            -e 's/\/502e856705"/\/502e856705cb139b59c3ccae378255c15e2486bc"/' \
            -e 's/\/ba593a7c31"/\/ba593a7c31fc69c5bdfc44f383035a2e57372ba8"/' \
            -e 's/\/a5565b477c"/\/a5565b477c2d403854044c26bdf40b6d81031b2f"/' \
            -e 's/\/d6a9496dda"/\/d6a9496ddab09c620986f5ca5e113b49af6c0595"/' \
            -e 's/\/fae60552db"/\/fae60552dbe53006390c243ad3f8ae01f407dfcc"/' \
            -e 's/\/42a3604fdc"/\/42a3604fdc7051f6209013e31d2a40547950c288"/' \
            -e 's/\/d96bb8bc6c"/\/d96bb8bc6c636a8869140e860e72e7bdf64bd790"/' \
            -e 's/\/eb29dc6604"/\/eb29dc6604c8bb0fa955b7e3f28d1fc7ed103552"/' \
            -e 's/\/070e699af9"/\/070e699af98973499e05acfb739fb76ff7dfda64"/' \
            -e 's/\/ede0edbc8b"/\/ede0edbc8b1c8bc74db20afbf1c0f62eb276425c"/' \
            -e 's/\/0a4aaab257"/\/0a4aaab2572341c06a8ddefe71d48d40896edf81"/' \
            -e 's/\/9b68f5ad5b"/\/9b68f5ad5b37f97efcf6f76c9bf6e247c16fd20c"/' \
            -e 's/\/07e862c150"/\/07e862c150940f305140f052a205eb75cefa9a4b"/' \
            -e 's/\/27a24fd47b"/\/27a24fd47b1208188fd6d12604f06ced5a8ca267"/' \
            -e 's/\/6d45d960c1"/\/6d45d960c11b2c65e120830aa8f4e38ac25a4393"/' \
            -e 's/\/34573d29cd"/\/34573d29cddc47a2e55fe5948fe397190c6adede"/' \
            -e 's/\/10e36f3421"/\/10e36f342155e7914db35bbc8a2a3dcfb1129045"/' \
            -e 's/\/cd1a74fc9d"/\/cd1a74fc9dc8a07626c216940db9a51f25206e03"/' \
            -e 's/\/bc5d2e1249"/\/bc5d2e12495483ef01836f25574b159deba87521"/' \
            -e 's/\/e2d2aac684"/\/e2d2aac6848763bd205e8852fc2abe9ac31f1a1c"/' \
            -e 's/\/a60968cf43"/\/a60968cf435951d9411fc0f980a2e362d5cccea2"/' \
            -e 's/\/4a158e75a4"/\/4a158e75a4b36ba5fb90ba4d35e583508a02c70e"/' \
            -e 's/\/b911995991"/\/b9119959915406907009f3426fb7445b4f06229e"/' \
            -e 's/\/aba71d8cd6"/\/aba71d8cd65a4ee12871ab27f67a28e668e6b01a"/' \
            -e 's/\/33461f1d44"/\/33461f1d44a43b30a241400c96b2735857d624b3"/' \
            -e 's/\/06671f4dd8"/\/06671f4dd83401168ce455e430e9741cc355093a"/' \
            -e 's/\/05ca542f78"/\/05ca542f78d6eb85400bd10b0b60ce9442e5d76b"/' \
            -e 's/\/df4ca5fb72"/\/df4ca5fb72ad062480fa1ba6556e2f7ca8da5acb"/' \
            -e 's/\/df4ca5fb72"/\/df4ca5fb72ad062480fa1ba6556e2f7ca8da5acb"/' \
            -e 's/\/8dd7bac908"/\/8dd7bac908205e607b25ea56f17b82ba40310520"/' \
            -e 's/\/fcbb1fa044"/\/fcbb1fa0445aa205a0f5f1af1eaf89ac9a146313"/' \
            -e 's/\/918fa5c06c"/\/918fa5c06c9d7f5e8a2d980e4e2744c63b1d7cbd"/' \
            -e 's/\/e6ee2f786d"/\/e6ee2f786d91e1c9f82a6c3611a4601b3e16e607"/' \
            -e 's/\/82f1b61609"/\/82f1b6160988ab0a61edebef6ed1c3048b66a3a4"/' \
            -e 's/\/df8884cbc5"/\/df8884cbc5c39073848ddf2058bafeea1188312b"/' \
            -e 's/\/aa56ade320"/\/aa56ade3205b0dcde5f46c01f6afbcf271248c72"/' \
            -e 's/\/7e4058d72e"/\/7e4058d72e34b6a88e69f089515600d3aaffd255"/' \
            -e 's/\/e7621d891d"/\/e7621d891d081acff6acd1f0ba6ae0adce06dd09"/' \
            -e 's/\/9761067755"/\/9761067755fcdaf728d2c9eb6408f04ffbdc76ef"/' \
            -e 's/\/f2a677fb4d"/\/f2a677fb4d2fc61cabe6a64c5d23d522647579fc"/' \
            -e 's/\/ddfc3f5bfa"/\/ddfc3f5bfad9e47121554234e5fa8693d3d4858a"/' \
            -e 's/\/52f89a91d2"/\/52f89a91d299fff257d3c1ab0884815aff5fc783"/' \
            -e 's/\/2cc3565eb4"/\/2cc3565eb4b0d5a34b24605d060e164251b4382f"/' \
            -e 's/\/b2956b369a"/\/b2956b369ab926417652def4cd7f85e9f475cd53"/' \
            -e 's/\/86f4c06bee"/\/86f4c06bee47fc73e5d6181db97611a6afca2b61"/' \
            -e 's/\/b2faa498cb"/\/b2faa498cbea3e8caa0487ad34bbe030a8c91422"/' \
            -e 's/\/b34b95c5ed"/\/b34b95c5edcef79f6c7cbc951e4f6ae8ecd9930a"/' \
            -e 's/\/fd017e51e6"/\/fd017e51e6e9f8cabe599015535a6577209ec79c"/' \
            -e 's/\/b884481d26"/\/b884481d266f277634028719961fae85208bac86"/' \
            -e 's/\/07867ae2ba"/\/07867ae2bad76ab7b5c258379eb7cd200b2ab96d"/' \
            -e 's/\/9d58696f8c"/\/9d58696f8c5634201238749abb0ba476057f68da"/' \
            -e 's/\/0dc4ae781f"/\/0dc4ae781f3617ce0924eccd1b09707ed115698b"/' \
            -e 's/\/e1848984d1"/\/e1848984d1004040ec5199e749b5f282ddf4bb09"/' \
            -e 's/\/e1848984d1"/\/e1848984d1004040ec5199e749b5f282ddf4bb09"/' \
            -e 's/\/d1a7b3b9ef"/\/d1a7b3b9efa0943ecb484f267193b3144e053aea"/' \
            -e 's/\/ef6d451bbf"/\/ef6d451bbfef86a529ebf12620289e0f15a93d8e"/' \
            -e 's/\/1a4ee4d5d8"/\/1a4ee4d5d83bbba63f6d8b71c427f627769f3386"/' \
            -e 's/\/a56c4f9e2a"/\/a56c4f9e2a9513d2be57dc4346e0e84887399cd9"/' \
            -e 's/\/4584fb7323"/\/4584fb7323ee51e30103ab0c286140ce2b34ba0e"/' \
            -e 's/\/d0192a7c4e"/\/d0192a7c4e03bb57edcd04ca783ecf349102f549"/' \
            -e 's/\/f80bd10f48"/\/f80bd10f48a67f447361762d90e4f3690b2c9009"/' \
            -e 's/\/01cd253a76"/\/01cd253a764adcc76f93adccaf99956529eb3ef8"/' \
            -e 's/\/5bb0817ee5"/\/5bb0817ee52f53db5ebdecc8509b99c4891d261b"/' \
            -e 's/\/8d6f67c0d3"/\/8d6f67c0d3a57fe2538e06b519212decdaa8a0d7"/' \
            -e 's/\/acc24d3293"/\/acc24d329300a0291294b3ece3169420cceb0f6d"/' \
            -e 's/\/0b42e3c56d"/\/0b42e3c56de10a2252d2b7bb4c86c0096171f922"/' \
            -e 's/\/7dde5e1dd3"/\/7dde5e1dd3f087702fb4ae673ff5a77445201736"/' \
            -e 's/\/512e5d63ec"/\/512e5d63ecb3be594daee6ef81bd28a3b2bb2dc7"/' \
            -e 's/\/183cb6761d"/\/183cb6761df52aa09ff5d23b6988ee5d1c946255"/' \
            -e 's/\/a8eb2a23a6"/\/a8eb2a23a6a462caf8dc0208544c9361c880aa81"/' \
            -e 's/\/848222cb91"/\/848222cb91bb2dd5c1dcb6e4d4abc3c6e5c033af"/' \
            -e 's/\/0d68a457f9"/\/0d68a457f980265663f5078c454e71a8d4d7e25f"/' \
            -e 's/\/5f997af33c"/\/5f997af33c0e6723cde4ac9d8afc2fec6d08ed0b"/' \
            -e 's/\/af5e32d0d3"/\/af5e32d0d3ebf60c77f9e5da73aaf60a9e6e6d32"/' \
            -e 's/\/0d6ec2f033"/\/0d6ec2f033aeb6068313625ddb829f47dabbceb0"/' \
            -e 's/\/603511c649"/\/603511c649b00bbef0a6122a827ac419b656bc19"/' \
            -e 's/\/5d5baf9182"/\/5d5baf91824ec7750b103c8b7c4827ffac202feb"/' \
            -e 's/\/81ab034ac9"/\/81ab034ac9b601ef5a4f4ab53e910d9fe8047cb0"/' \
            -e 's/\/2b9dc9b294"/\/2b9dc9b294fd1f4991a5de87154766783a800bc2"/' \
            -e 's/\/289598f694"/\/289598f694d6d69fcf9f33b261b62446364e9ac3"/' \
            -e 's/\/3aaabcfd40"/\/3aaabcfd40b1b45d673b0d7a1ac6739552a9a2b3"/' \
            -e 's/\/cf9318d188"/\/cf9318d1883d173d0d0e4c4485e3d67e438159d0"/' \
            -e 's/\/8ce23d0a3b"/\/8ce23d0a3bc005c6a20534de5c37e6b58f924c8b"/' \
            -e 's/\/3f546284ce"/\/3f546284ceadc65d0a48cff732ef0abd5946ca4e"/' \
            -e 's/\/fe8b815da3"/\/fe8b815da3a01bd996df29979b8e8f6bfcd9139e"/' \
            -e 's/\/00897b8646"/\/00897b864628d5b88d0d19b9630dee3c20e1eb24"/' \
            -e 's/\/c9e62ccb59"/\/c9e62ccb591963b8387eda3f5d34aea015202ea8"/' \
            -e 's/\/ed3d106bc9"/\/ed3d106bc93775b62b3860176d7501e079a089b9"/' \
            -e 's/\/07f905cec2"/\/07f905cec28d18030976ef5959426b20885a1ce4"/' \
            -e 's/\/3164e141fc"/\/3164e141fc032d264b002262907ebd832c9a56ce"/' \
            -e 's/\/46309c695b"/\/46309c695b080648f8c0ea5e2d1fd7387ee7f044"/' \
            -e 's/\/924c19fc00"/\/924c19fc000d3759486b68bd73bc592fa02e367c"/' \
            -e 's/\/34c1a976dc"/\/34c1a976dcdaa107499f5c0c1c416bcfee477f94"/' \
            -e 's/\/327fab0447"/\/327fab0447484fc8bade0e92a8915b930bb2c166"/' \
            -e 's/\/dc85205db4"/\/dc85205db4d666e2cdc11cacba9d094c7fcfc942"/' \
            -e 's/\/f2dea585d7"/\/f2dea585d74c76ae9a1e05580b3df7817489cd02"/' \
            -e 's/\/03faabc8bc"/\/03faabc8bc88fd49c873e6efc4dbea409917d0b0"/' \
            -e 's/\/036918aff7"/\/036918aff7265984055b613d7c9df5bee9507e6b"/' \
            -e 's/\/8251787994"/\/82517879948fa00526aac4d681cd674b4d4ebf47"/' \
            -e 's/\/0cb6d35d23"/\/0cb6d35d23cf509a6e7bb192d15a7d80173f55a0"/' \
            -e 's/\/37d08f901a"/\/37d08f901a6a65ac562616582d7ff89d1c593b28"/' \
            -e 's/\/c06fee21d4"/\/c06fee21d46f7691f6c68543930d34f8332bf6be"/' \
            -e 's/\/ec646c1f36"/\/ec646c1f36a0cee83819b9b080917d588cccfab3"/' \
            -e 's/\/b130e9dbfc"/\/b130e9dbfc76ad1bf79ce9dc77547cecb61d3783"/' \
            -e 's/\/88a3d7f051"/\/88a3d7f051dba2e389de14b84f4efefd9020db29"/' \
            -e 's/\/0f3342804f"/\/0f3342804fc6fa558a7c9e220e7e9ab4c86e8226"/' \
            -e 's/\/f0a126c029"/\/f0a126c029001ff16e6d8d9ebdcc6d14fd8e06a5"/' \
            -e 's/\/9b9ea5f2d7"/\/9b9ea5f2d78366e1ba724bd765a262c2164cb778"/' \
            -e 's/\/12242016e6"/\/12242016e6d776ddcac11cce17cde2250a308d31"/' \
            -e 's/\/914b84c9d9"/\/914b84c9d949b14a135ab50c8b881cdee9be116c"/' \
            -e 's/\/a36e14b3aa"/\/a36e14b3aaa0ddb633c40a9c8483e6fe12d99616"/' \
            -e 's/\/13f583bedb"/\/13f583bedb59f9a11b3f2e91673c10c250f84576"/' \
            -e 's/\/a4d0d5f55d"/\/a4d0d5f55df5caea7d3621ff43a769a3336dc502"/' \
            -e 's/\/759b4f1c8e"/\/759b4f1c8ed03e6e9cdfc028b47235539f1eadb0"/' \
            -e 's/\/8b4e64d605"/\/8b4e64d6053204113965ea1b84bd294c9ffeef41"/' \
            -e 's/\/8b4e64d605"/\/8b4e64d6053204113965ea1b84bd294c9ffeef41"/' \
            -e 's/\/26173ab246"/\/26173ab246bf0e9ace706e5882a00c91a2aba71e"/' \
            -e 's/\/51efe4db88"/\/51efe4db8841866f2fe7a4aafb7b32e71e23defd"/' \
            -e 's/\/abd867df20"/\/abd867df209a33ad446fce2e233cda0d24b4ff53"/' \
            -e 's/\/fe31e2c27c"/\/fe31e2c27c1b42c2ccf15f0987f4d7a90c5557c5"/' \
            -e 's/\/3603d17801"/\/3603d17801ddb54e444e1e01212a1b9f8e0ee251"/' \
            -e 's/\/7cf4526635"/\/7cf4526635128de05c7759b0cbb678dc3a4e68f2"/' \
            -e 's/\/80a6209eb5"/\/80a6209eb5e70f50ffe1cea0da0c24d123a877a6"/' \
            -e 's/\/2dd3603754"/\/2dd360375454c14132ccb288d0a4a51f3354d7c9"/' \
            -e 's/\/52a7159fc0"/\/52a7159fc0375c6020d928b58919fe1bc6fb0736"/' \
            -e 's/\/eba7af3dbb"/\/eba7af3dbb4c846c6303c5f64102acee696c9ab0"/' \
            -e 's/\/d4696aab49"/\/d4696aab496e0a7a5317e0d5af659292cd8c4324"/' \
            -e 's/\/ede8f145e0"/\/ede8f145e06370330f71c887c23bd30e87d7d0eb"/' \
            -e 's/\/9f22cae658"/\/9f22cae65811bc13384ee8fab0ab7b857aeb5aa9"/' \
            -e 's/\/7a2040a790"/\/7a2040a790c146e340fddeb9813cc10ad547d282"/' \
            -e 's/\/91e25e0ef0"/\/91e25e0ef05533470e2741d1a5c8355e921dbb4c"/' \
            -e 's/\/d14a8f8640"/\/d14a8f8640f46c592af92c4fef59600dcb7b2838"/' \
            -e 's/\/7df5db8d31"/\/7df5db8d31e7b384b14e488c76933d46a9e76161"/' \
            -e 's/\/e07d7179b0"/\/e07d7179b00fc1d868daf6c5f522e286f991b999"/' \
            -e 's/<h2 id="2021-03-10-00:00:00"></<h2 id="2021-03-10-00:00:00">Sat Mar 6 00:20:26 2021 +0000</' \
            -e 's/05b33ec50bb8fdcb5d9714e062763507348dc4f9/37f0a4afad027cf030747a1ef45537ba86162960/' \
            -e '/<h2/{
              # First, extract the date and the commit
              s/.*<h2 id="\([^"]*\)">\([^<]*\).*\/commit\/\([0-9a-f]*\).*/date="\2" \&\& commit=\3 \&\& /p

              # Now, loop through the linked files
              :1
              /<\/ul>/{
                # All done, now get the file list from the hold space and clear out the hold space
                s/.*//
                x

                # Print the "files=" line
                s/\n/ /g
                s/  */ /g
                s/^ \(.*\)/files="\1" \&\& mirror_one;/p

                # We are done here
                b
              }

              /href="/{
                # reduce the line to a list of file names
                s/^[^"]*href="/ /
                s/"[^"]*href="/ /g
                s/".*//
                # append the list of file names to the hold space
                H

                # extract the tag name from the 64-bit installer file name
                /^ Git-.*-64-bit\.exe/{
                  s/^ Git-\(.*\)-64-bit\.exe.*/tag_name=\1 \&\& /p
                }
              }
              n
              b1
            }' &&

            mv snapshots.sh s.bup &&
            sed -n 'h;n;G;x;n;G;p' <s.bup | tac >snapshots.sh &&
          . snapshots.sh
